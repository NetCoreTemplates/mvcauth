var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd?define(["require","exports"],e):"undefined"!=typeof window&&e(window.require||function(){},window["@servicestack/client"]={})}(function(e,t){"use strict";function i(){try{return"undefined"!=typeof window?null:void 0!==e?e:null}catch(e){return null}}Object.defineProperty(t,"__esModule",{value:!0}),t.Inspect=t.alignAuto=t.alignRight=t.alignCenter=t.alignLeft=t.uniqueKeys=t.JSV=t.StringBuffer=t.toBase64String=t.toByteArray=t.fromByteArray=t.toGuid=t.fromGuid=t.toTimeSpan=t.fromTimeSpan=t.toDateTime=t.fromDateTime=t.isNullOrEmpty=t.indexOfAny=t.htmlAttrs=t.enc=t.uniq=t.flatMap=t.toTimeSpanFmt=t.toXsdDuration=t.fromXsdDuration=t.classNames=t.NavOptions=t.UserAttributes=t.LinkButtonDefaults=t.NavButtonGroupDefaults=t.NavbarDefaults=t.NavLinkDefaults=t.NavDefaults=t.btnClasses=t.btnSizeClass=t.BootstrapSizes=t.btnColorClass=t.BootstrapColors=t.activeClass=t.activeClassNav=t.omit=t.pick=t.safeVarName=t.trimEnd=t.populateForm=t.triggerEvent=t.serializeToFormData=t.serializeToUrlEncoded=t.serializeToObject=t.serializeForm=t.ajaxSubmit=t.formSubmit=t.toVarNames=t.bootstrapForm=t.bindHandlers=t.bootstrap=t.createElement=t.toLocalISOString=t.timeFmt12=t.dateFmtHM=t.dateFmt=t.padInt=t.toDateFmt=t.toDate=t.errorResponse=t.errorResponseExcept=t.errorResponseSummary=t.toObject=t.toFormData=t.parseResponseStatus=t.getField=t.normalize=t.normalizeKey=t.parseCookie=t.tryDecode=t.stripQuotes=t.bytesToBase64=t.appendQueryString=t.createUrl=t.createPath=t.combinePaths=t.queryString=t.humanize=t.onlyProps=t.chop=t.lastRightPart=t.lastLeftPart=t.rightPart=t.leftPart=t.splitOnLast=t.splitOnFirst=t.css=t.nameOf=t.sanitize=t.toPascalCase=t.toCamelCase=t.isFormData=t.JsonServiceClient=t.GetAccessTokenResponse=t.HttpMethods=t.ServerEventUser=t.GetEventSubscribers=t.UpdateEventSubscriberResponse=t.UpdateEventSubscriber=t.ServerEventReceiver=t.ServerEventsClient=t.ReadyState=t.SingletonInstanceResolver=t.NewInstanceResolver=t.GetNavItemsResponse=t.GetNavItems=t.NavItem=t.ErrorResponse=t.ResponseError=t.ResponseStatus=void 0;var n=i();n&&n("cross-fetch/polyfill");var o=function(e){Object.assign(this,e)};t.ResponseStatus=o;function r(e){Object.assign(this,e)}t.ResponseError=r;var a=function(e){Object.assign(this,e)};t.ErrorResponse=a;function s(e){Object.assign(this,e)}t.NavItem=s;var u=(l.prototype.createResponse=function(){return new c},l.prototype.getTypeName=function(){return"GetNavItems"},l);function l(e){Object.assign(this,e)}t.GetNavItems=u;var c=function(e){Object.assign(this,e)};t.GetNavItemsResponse=c;var f=(h.prototype.tryResolve=function(e){return new e},h);function h(){}t.NewInstanceResolver=f;var p,d=(v.prototype.tryResolve=function(e){return e.instance||(e.instance=new e)},v);function v(){}function k(e){switch(e){case"onConnect":return"ServerEventConnect";case"onHeartbeat":return"ServerEventHeartbeat";case"onJoin":return"ServerEventJoin";case"onLeave":return"ServerEventLeave";case"onUpdate":return"ServerEventUpdate"}return null}t.SingletonInstanceResolver=d,(p=t.ReadyState||(t.ReadyState={}))[p.CONNECTING=0]="CONNECTING",p[p.OPEN=1]="OPEN",p[p.CLOSED=2]="CLOSED";var m=(g.prototype.getEventSourceOptions=function(){return{withCredentials:this.withCredentials}},g.prototype.reconnectServerEvents=function(t){var n=this;if(void 0===t&&(t={}),!this.stopped){t.error&&this.onError(t.error);var r=this.eventSource,e=t.url||this.eventStreamUri||r.url;null!=this.options.resolveStreamUrl&&(e=this.options.resolveStreamUrl(e));var o=this.EventSource?new this.EventSource(e,this.getEventSourceOptions()):new EventSource(e,this.getEventSourceOptions());o.addEventListener("error",function(e){return(t.onerror||r.onerror||n.onError)(e)}),o.addEventListener("message",t.onmessage||r.onmessage||this.onMessage);var s=this.options.onReconnect;return null!=s&&s.call(o,t.error),r.removeEventListener&&(r.removeEventListener("error",this.onError),r.removeEventListener("message",this.onMessage)),r.close(),this.eventSource=o}},g.prototype.start=function(){var t=this;if(this.stopped=!1,null==this.eventSource||this.eventSource.readyState===EventSource.CLOSED){var e=this.eventStreamUri;null!=this.options.resolveStreamUrl&&(e=this.options.resolveStreamUrl(e)),this.eventSource=this.EventSource?new this.EventSource(e,this.getEventSourceOptions()):new EventSource(e,this.getEventSourceOptions()),this.eventSource.addEventListener("error",this.onError),this.eventSource.addEventListener("message",function(e){return t.onMessage(e)})}return this},g.prototype.stop=function(){this.stopped=!0,this.eventSource&&this.eventSource.close();var e=this.options;e&&e.heartbeat&&clearInterval(e.heartbeat);var t=this.connectionInfo;return null==t||null==t.unRegisterUrl?new Promise(function(e,t){return e()}):(this.connectionInfo=null,fetch(new Request(t.unRegisterUrl,{method:"POST",mode:"cors",credentials:this.serviceClient.credentials})).then(function(e){if(!e.ok)throw new Error(e.status+" - "+e.statusText)}).catch(this.onError))},g.prototype.invokeReceiver=function(e,t,n,r,o){if(e)if("function"==typeof e&&(e=this.resolver.tryResolve(e)),t=t.replace("-",""),e.client=this,e.request=r,"function"==typeof e[t])e[t].call(n||e,r.body,r);else if(t in e)e[t]=r.body;else{var s=Object.getOwnPropertyDescriptor(e,t);if(null!=s)return void(s.set?s.set(r.body):s.writable&&(e[t]=r.body));var i=t.toLowerCase();for(var a in e)if(a.toLowerCase()==i)return void("function"==typeof e[a]?e[a].call(n||e,r.body,r):e[a]=r.body);var u=e.noSuchMethod;"function"==typeof u&&u.call(n||e,r.target,r)}},g.prototype.hasConnected=function(){return null!=this.connectionInfo},g.prototype.registerHandler=function(e,t){return this.options.handlers||(this.options.handlers={}),this.options.handlers[e]=t,this},g.prototype.setResolver=function(e){return this.options.resolver=e,this},g.prototype.registerReceiver=function(e){return this.registerNamedReceiver("cmd",e)},g.prototype.registerNamedReceiver=function(e,t){return this.options.receivers||(this.options.receivers={}),this.options.receivers[e]=t,this},g.prototype.unregisterReceiver=function(e){return void 0===e&&(e="cmd"),this.options.receivers&&delete this.options.receivers[e],this},g.prototype.updateChannels=function(e){this.channels=e;var t=null!=this.eventSource?this.eventSource.url:this.eventStreamUri;this.eventStreamUri=t.substring(0,Math.min(t.indexOf("?"),t.length))+"?channels="+e.join(",")+"&t="+(new Date).getTime()},g.prototype.update=function(e,t){var n="string"==typeof e?e.split(","):e,r="string"==typeof t?t.split(","):t,o=[];for(var s in this.channels){var i=this.channels[s];null!=r&&-1!==r.indexOf(i)||o.push(i)}if(n)for(var s in n)i=n[s],-1===o.indexOf(i)&&o.push(i);this.updateChannels(o)},g.prototype.addListener=function(e,t){return(this.listeners[e]||(this.listeners[e]=[])).push(t),this},g.prototype.removeListener=function(e,t){var n=this.listeners[e];if(n){var r=n.indexOf(t);0<=r&&n.splice(r,1)}return this},g.prototype.raiseEvent=function(e,t){var n=this,r=this.listeners[e];r&&r.forEach(function(e){try{e(t)}catch(e){n.onError(e)}})},g.prototype.getConnectionInfo=function(){if(null==this.connectionInfo)throw"Not Connected";return this.connectionInfo},g.prototype.getSubscriptionId=function(){return this.getConnectionInfo().id},g.prototype.updateSubscriber=function(t){var n=this;return null==t.id&&(t.id=this.getSubscriptionId()),this.serviceClient.post(t).then(function(e){n.update(t.subscribeChannels,t.unsubscribeChannels)}).catch(this.onError)},g.prototype.subscribeToChannels=function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=new C;return r.id=this.getSubscriptionId(),r.subscribeChannels=n,this.serviceClient.post(r).then(function(e){t.update(n,null)}).catch(this.onError)},g.prototype.unsubscribeFromChannels=function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=new C;return r.id=this.getSubscriptionId(),r.unsubscribeChannels=n,this.serviceClient.post(r).then(function(e){t.update(null,n)}).catch(this.onError)},g.prototype.getChannelSubscribers=function(){var t=this,e=new w;return e.channels=this.channels,this.serviceClient.get(e).then(function(e){return e.map(function(e){return t.toServerEventUser(e)})}).catch(function(e){return t.onError(e),[]})},g.prototype.toServerEventUser=function(e){var t=e.channels,n=new N;for(var r in n.userId=e.userId,n.displayName=e.displayName,n.profileUrl=e.profileUrl,n.channels=t?t.split(","):null,e)"userId"!=r&&"displayName"!=r&&"profileUrl"!=r&&"channels"!=r&&(null==n.meta&&(n.meta={}),n.meta[r]=e[r]);return n},g.UnknownChannel="*",g);function g(e,t,n,r){var O=this;if(void 0===n&&(n={}),void 0===r&&(r=null),this.channels=t,this.options=n,this.eventSource=r,this.onMessage=function(e){if("undefined"==typeof document){var t=e.data?e.data.indexOf("\n"):-1;if(0<=t){var n=e.data,r=e.lastEventId,o=Object.assign({},{lastEventId:r,data:n.substring(0,t)}),s=Object.assign({},{lastEventId:r,data:n.substring(t+1)});return O._onMessage(o),void O._onMessage(s)}}O._onMessage(e)},this._onMessage=function(e){if(!O.stopped){var t=O.options;if(void 0===n)var n={querySelectorAll:function(e){return[]}};var r=n.querySelectorAll.bind(n),o=G(e.data," "),s=null,i=o[0],a=G(i,"@");1<a.length&&(s=a[0],i=a[1]);var u=o[1],l=null;try{l=u?JSON.parse(u):null}catch(e){}if((o=G(i,".")).length<=1)throw"invalid selector format: "+i;var c=o[0],f=o[1].replace(new RegExp("%20","g")," "),h=G(f,"$"),p=h[0],d=h[1],v=d&&r(d),m=v&&v[0],g={eventId:parseInt(e.lastEventId),data:e.data,type:k(p)||"ServerEventMessage",channel:s,selector:i,json:u,body:l,op:c,target:h[0],cssSelector:d,meta:{}},y="object"==typeof l?Object.assign({},g,l):g;if(!t.validate||!1!==t.validate(g)){var b=new Headers;if(b.set("Content-Type","text/plain"),"cmd"===c)if("onConnect"===p){if(O.connectionInfo=y,"string"==typeof l.heartbeatIntervalMs&&(O.connectionInfo.heartbeatIntervalMs=parseInt(l.heartbeatIntervalMs)),"string"==typeof l.idleTimeoutMs&&(O.connectionInfo.idleTimeoutMs=parseInt(l.idleTimeoutMs)),Object.assign(t,l),(E=t.handlers.onConnect)&&(E.call(m||n.body,O.connectionInfo,g),O.stopped))return;t.heartbeatUrl&&(t.heartbeat&&clearInterval(t.heartbeat),t.heartbeat=setInterval(function(){if(O.eventSource.readyState===EventSource.CLOSED){clearInterval(t.heartbeat);var e=t.handlers.onStop;return null!=e&&e.apply(O.eventSource),void O.reconnectServerEvents({error:new Error("EventSource is CLOSED")})}fetch(new Request(t.heartbeatUrl,{method:"POST",mode:"cors",headers:b,credentials:O.serviceClient.credentials})).then(function(e){if(!e.ok)throw new Error(e.status+" - "+e.statusText)}).catch(function(e){return O.reconnectServerEvents({error:e})})},O.connectionInfo&&O.connectionInfo.heartbeatIntervalMs||t.heartbeatIntervalMs||1e4)),t.unRegisterUrl&&"undefined"!=typeof window&&(window.onunload=function(){navigator.sendBeacon?(O.stopped=!0,O.eventSource&&O.eventSource.close(),navigator.sendBeacon(t.unRegisterUrl)):O.stop()}),O.updateSubscriberUrl=t.updateSubscriberUrl,O.updateChannels((t.channels||"").split(","))}else{var C="onJoin"==p||"onLeave"==p||"onUpdate"==p;if(E=t.handlers[p])C?E.call(m||n.body,y):E.call(m||n.body,l,g);else if(!C){var S=t.receivers&&t.receivers.cmd;O.invokeReceiver(S,p,m,g,"cmd")}C&&(E=t.handlers.onCommand)&&E.call(m||n.body,y)}else"trigger"===c?O.raiseEvent(f,g):"css"===c&&H(v||r("body"),p,l);var E,w=t.receivers&&t.receivers[c];if(O.invokeReceiver(w,p,m,g,c),!k(p))(E=t.handlers.onMessage)&&E.call(m||n.body,y);t.onTick&&t.onTick()}}},this.onError=function(e){if(!O.stopped){e||(e=event);var t=O.options.onException;null!=t&&t.call(O.eventSource,e),O.options.onTick&&O.options.onTick()}},0===this.channels.length)throw"at least 1 channel is required";this.resolver=this.options.resolver||new f,this.eventStreamUri=J(e,"event-stream")+"?",this.updateChannels(t),this.serviceClient=new M(e),this.listeners={},this.withCredentials=!0,this.options.handlers||(this.options.handlers={})}t.ServerEventsClient=m;var y=(b.prototype.noSuchMethod=function(e,t){},b);function b(){}t.ServerEventReceiver=y;var C=(S.prototype.createResponse=function(){return new E},S.prototype.getTypeName=function(){return"UpdateEventSubscriber"},S);function S(){}t.UpdateEventSubscriber=C;var E=function(){};t.UpdateEventSubscriberResponse=E;var w=(O.prototype.createResponse=function(){return[]},O.prototype.getTypeName=function(){return"GetEventSubscribers"},O);function O(){}t.GetEventSubscribers=w;var N=function(){};t.ServerEventUser=N;var T=(I.Get="GET",I.Post="POST",I.Put="PUT",I.Delete="DELETE",I.Patch="PATCH",I.Head="HEAD",I.Options="OPTIONS",I.hasRequestBody=function(e){return!("GET"===e||"DELETE"===e||"HEAD"===e||"OPTIONS"===e)},I);function I(){}t.HttpMethods=T;var L=(x.prototype.createResponse=function(){return new R},x.prototype.getTypeName=function(){return"GetAccessToken"},x);function x(e){Object.assign(this,e)}var R=function(){};t.GetAccessTokenResponse=R;var U,D,M=(A.prototype.setCredentials=function(e,t){this.userName=e,this.password=t},A.prototype.setBearerToken=function(e){this.bearerToken=e},A.prototype.get=function(e,t){return"string"!=typeof e?this.send(T.Get,e,t):this.send(T.Get,null,t,this.toAbsoluteUrl(e))},A.prototype.delete=function(e,t){return"string"!=typeof e?this.send(T.Delete,e,t):this.send(T.Delete,null,t,this.toAbsoluteUrl(e))},A.prototype.post=function(e,t){return this.send(T.Post,e,t)},A.prototype.postToUrl=function(e,t,n){return this.send(T.Post,t,n,this.toAbsoluteUrl(e))},A.prototype.postBody=function(e,t,n){return this.sendBody(T.Post,e,t,n)},A.prototype.put=function(e,t){return this.send(T.Put,e,t)},A.prototype.putToUrl=function(e,t,n){return this.send(T.Put,t,n,this.toAbsoluteUrl(e))},A.prototype.putBody=function(e,t,n){return this.sendBody(T.Put,e,t,n)},A.prototype.patch=function(e,t){return this.send(T.Patch,e,t)},A.prototype.patchToUrl=function(e,t,n){return this.send(T.Patch,t,n,this.toAbsoluteUrl(e))},A.prototype.patchBody=function(e,t,n){return this.sendBody(T.Patch,e,t,n)},A.prototype.publish=function(e,t){return this.sendOneWay(e,t)},A.prototype.sendOneWay=function(e,t){var n=J(this.oneWayBaseUrl,_(e));return this.send(T.Post,e,null,n)},A.prototype.sendAll=function(e){if(0==e.length)return Promise.resolve([]);var t=J(this.replyBaseUrl,_(e[0])+"[]");return this.send(T.Post,e,null,t)},A.prototype.sendAllOneWay=function(e){if(0==e.length)return Promise.resolve(void 0);var t=J(this.oneWayBaseUrl,_(e[0])+"[]");return this.send(T.Post,e,null,t).then(function(e){})},A.prototype.createUrlFromDto=function(e,t){var n=J(this.replyBaseUrl,_(t));return T.hasRequestBody(e)||(n=V(n,t)),n},A.prototype.toAbsoluteUrl=function(e){return e.startsWith("http://")||e.startsWith("https://")?e:J(this.baseUrl,e)},A.prototype.deleteCookie=function(e){this.manageCookies?delete this.cookies[e]:document&&(document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/")},A.prototype.createRequest=function(e){var n=this,t=e.method,r=e.request,o=e.url,s=e.args,i=e.body;if(o||(o=this.createUrlFromDto(t,r)),s&&(o=V(o,s)),null!=this.bearerToken?this.headers.set("Authorization","Bearer "+this.bearerToken):null!=this.userName&&this.headers.set("Authorization","Basic "+A.toBase64(this.userName+":"+this.password)),this.manageCookies){var a=Object.keys(this.cookies).map(function(e){var t=n.cookies[e];return t.expires&&t.expires<new Date?null:t.name+"="+encodeURIComponent(t.value)}).filter(function(e){return!!e});0<a.length?this.headers.set("Cookie",a.join("; ")):this.headers.delete("Cookie")}var u=new Headers(this.headers),l=T.hasRequestBody(t),c={url:o,method:t,mode:this.mode,credentials:this.credentials,headers:u,compress:!1};return l&&(c.body=i||JSON.stringify(r),j(i)&&u.delete("Content-Type")),null!=this.requestFilter&&this.requestFilter(c),c},A.prototype.json=function(e){return this.parseJson?this.parseJson(e):e.json()},A.prototype.createResponse=function(e,t){var n=this;if(!e.ok)throw e;if(this.manageCookies){var r=[];e.headers.forEach(function(e,t){switch(t.toLowerCase()){case"set-cookie":e.split(",").forEach(function(e){return r.push(e)})}}),r.forEach(function(e){var t=ee(e);t&&(n.cookies[t.name]=t)})}e.headers.forEach(function(e,t){switch(t.toLowerCase()){case"x-cookies":0<=e.split(",").indexOf("ss-reftok")&&(n.useTokenCookie=!0)}}),null!=this.responseFilter&&this.responseFilter(e);var o=t&&"string"!=typeof t&&"function"==typeof t.createResponse?t.createResponse():null;if("string"==typeof o)return e.text().then(function(e){return e});var s=e.headers.get("content-type"),i=s&&-1!==s.indexOf("application/json");if(i)return this.json(e).then(function(e){return e});if("undefined"!=typeof Uint8Array&&o instanceof Uint8Array){if("function"!=typeof e.arrayBuffer)throw new Error("This fetch polyfill does not implement 'arrayBuffer'");return e.arrayBuffer().then(function(e){return new Uint8Array(e)})}if("function"==typeof Blob&&o instanceof Blob){if("function"!=typeof e.blob)throw new Error("This fetch polyfill does not implement 'blob'");return e.blob().then(function(e){return e})}var a=e.headers.get("content-length");return"0"===a||null==a&&!i?o:this.json(e).then(function(e){return e})},A.prototype.handleError=function(e,n,r){var o=this;if(void 0===r&&(r=null),n instanceof Error)throw this.raiseError(e,n);if(n.bodyUsed)throw this.raiseError(n,P(n.status,n.statusText,r));return void 0===n.json&&n.responseStatus?new Promise(function(e,t){return t(o.raiseError(null,n))}):this.json(n).then(function(e){var t=q(e);if(!t.responseStatus)throw P(n.status,n.statusText,r);throw null!=r&&(t.type=r),t}).catch(function(e){if(e instanceof Error||"undefined"!=typeof window&&e instanceof window.DOMException)throw o.raiseError(n,P(n.status,n.statusText,r));throw o.raiseError(n,e)})},A.prototype.send=function(e,t,n,r){return this.sendRequest({method:e,request:t,args:n,url:r})},A.prototype.sendBody=function(e,t,n,r){var o=J(this.replyBaseUrl,_(t));return this.sendRequest({method:e,request:n,body:"string"==typeof n?n:j(n)?n:JSON.stringify(n),url:V(o,t),args:r,returns:t})},A.prototype.sendRequest=function(t){function o(){var e=s.createRequest(t);return s.urlFilter&&s.urlFilter(e.url),fetch(e.url,e).then(function(e){return s.createResponse(e,n)}).catch(function(e){return s.handleError(i,e)})}var s=this,e=this.createRequest(t),n=t.returns||t.request,i=null;return this.urlFilter&&this.urlFilter(e.url),fetch(e.url,e).then(function(e){return i=e,s.createResponse(e,n)}).catch(function(e){if(401===e.status){if(s.refreshToken||s.useTokenCookie||null!=s.cookies["ss-reftok"]){var t=new L({refreshToken:s.refreshToken,useTokenCookie:!!s.useTokenCookie}),n=s.refreshTokenUri||s.createUrlFromDto(T.Post,t);s.useTokenCookie&&(s.bearerToken=null,s.headers.delete("Authorization"));var r=s.createRequest({method:T.Post,request:t,args:null,url:n});return fetch(n,r).then(function(e){return s.createResponse(e,t).then(function(e){return s.bearerToken=e.accessToken||null,o()})}).catch(function(e){return s.onAuthenticationRequired?s.onAuthenticationRequired().then(o).catch(function(e){return s.handleError(i,e,"RefreshTokenException")}):s.handleError(i,e,"RefreshTokenException")})}if(s.onAuthenticationRequired)return s.onAuthenticationRequired().then(o)}return s.handleError(i,e)})},A.prototype.raiseError=function(e,t){return null!=this.exceptionFilter&&this.exceptionFilter(e,t),t},A);function A(e){void 0===e&&(e="/"),this.baseUrl=e,this.replyBaseUrl=J(e,"json","reply")+"/",this.oneWayBaseUrl=J(e,"json","oneway")+"/",this.mode="cors",this.credentials="include",this.headers=new Headers,this.headers.set("Content-Type","application/json"),this.manageCookies="undefined"==typeof document,this.cookies={}}function j(e){return"undefined"!=typeof window&&e instanceof FormData}function P(e,t,n){void 0===n&&(n=null);var r=new a;return null!=n&&(r.type=n),r.responseStatus=new o,r.responseStatus.errorCode=e&&e.toString(),r.responseStatus.message=t,r}function F(e){return e?e.charAt(0).toLowerCase()+e.substring(1):e}function B(e){return e?e.charAt(0).toUpperCase()+e.substring(1):e}function q(e){if(e.responseStatus)return e;if(e.errors)return e;var t={};for(var n in e)e.hasOwnProperty(n)&&(e[n]instanceof Object?t[F(n)]=q(e[n]):t[F(n)]=e[n]);if(t.errors=[],null!=e.Errors)for(var r=0,o=e.Errors.length;r<o;r++){var s=e.Errors[r],i={};for(var n in s)i[F(n)]=s[n];t.errors.push(i)}return t}function _(e){if(!e)return"null";if("function"==typeof e.getTypeName)return e.getTypeName();var t=e&&e.constructor;if(null==t)throw e+" doesn't have constructor";if(t.name)return t.name;var n=t.toString();return n.substring(9,n.indexOf("("))}function H(e,t,n){for(var r="string"==typeof e?document.querySelectorAll(e):e,o=0;o<r.length;o++){var s=r[o];null!=s&&null!=s.style&&(s.style[t]=n)}}function G(e,t){if(!e)return[e];var n=e.indexOf(t);return 0<=n?[e.substring(0,n),e.substring(n+1)]:[e]}function z(e){return"string"!=typeof e?e:e.replace(/([A-Z]|[0-9]+)/g," $1").replace(/_/g," ").trim()}function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,o=[];for(n=0,r=e.length;n<r;n++){var s=e[n];o=-1===s.indexOf("://")?o.concat(s.split("/")):o.concat(s.lastIndexOf("/")===s.length-1?s.substring(0,s.length-1):s)}var i=[];for(n=0,r=o.length;n<r;n++){var a=o[n];a&&"."!==a&&(".."===a?i.pop():i.push(a))}return""===o[0]&&i.unshift(""),i.join("/")||(i.length?"/":".")}function W(e,t){var n={};for(var r in t)n[r.toLowerCase()]=r;for(var o=e.split("/"),s="",i=0;i<o.length;i++){var a=o[i];if(null==a&&(a=""),"{"===a[0]&&"}"===a[a.length-1]){var u=n[a.substring(1,a.length-1).toLowerCase()];u&&(a=t[u],delete t[u])}0<s.length&&(s+="/"),s+=a}return s}function V(e,t){for(var n in t)t.hasOwnProperty(n)&&(e+=0<=e.indexOf("?")?"&":"?",e+=n+"="+X(t[n]));return e}function X(e){return null==e?"":"undefined"!=typeof Uint8Array&&e instanceof Uint8Array?K(e):encodeURIComponent(e)||""}function K(e){for(var t=(3-e.length%3)%3,n="",r=void 0,o=e.length,s=0,i=0;i<o;i++)r=i%3,s|=e[i]<<(16>>>r&24),2!==r&&e.length-i!=1||(n+=String.fromCharCode(Q(s>>>18&63),Q(s>>>12&63),Q(s>>>6&63),Q(63&s)),s=0);return 0==t?n:n.substring(0,n.length-t)+(1==t?"=":"==")}function Q(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65}function Y(e){return"function"==typeof btoa?btoa(e):Buffer.from(e).toString("base64")}function $(e){return e&&'"'==e[0]&&'"'==e[e.length]?e.slice(1,-1):e}function Z(t){try{return decodeURIComponent(t)}catch(e){return t}}function ee(e){if(!e)return null;for(var t=null,n=e.split(/; */),r=0;r<n.length;r++){var o=G(n[r],"="),s=o[0].trim(),i=1<o.length?Z($(o[1].trim())):null;if(0==r)t={name:s,value:i,path:"/"};else{var a=s.toLowerCase();"httponly"==a?t.httpOnly=!0:"secure"==a?t.secure=!0:"expires"==a?(t.expires=new Date(i),"Invalid Date"===t.expires.toString()&&(t.expires=new Date(i.replace(/-/g," ")))):t[s]=i}}return t}function te(e){return e.toLowerCase().replace(/_/g,"")}function ne(e){return"[object Array]"===Object.prototype.toString.call(e)}function re(){var e=this.responseStatus||this.ResponseStatus;if(null!=e){var t=e.ErrorCode?q(e):e;return t.errors&&0!=t.errors.length?void 0:t.message||t.errorCode}}function oe(e){var t=this.responseStatus||this.ResponseStatus;if(null!=t){var n=t.ErrorCode?q(t):t,r=Ce(e);if(r&&null!=n.errors&&0!=n.errors.length){for(var o=r.map(function(e){return(e||"").toLowerCase()}),s=0,i=n.errors;s<i.length;s++){var a=i[s];if(-1!==o.indexOf((a.fieldName||"").toLowerCase()))return}for(var u=0,l=n.errors;u<l.length;u++){a=l[u];if(-1===o.indexOf((a.fieldName||"").toLowerCase()))return a.message||a.errorCode}}return n.message||n.errorCode||void 0}}function se(e){return e?"function"==typeof e.getMonth?e:"/"==e[0]?new Date(parseFloat(/Date\(([^)]+)\)/.exec(e)[1])):new Date(e):null}function ie(e){return e<10?"0"+e:e}function ae(e){return void 0===e&&(e=new Date),e.getFullYear()+"/"+ie(e.getMonth()+1)+"/"+ie(e.getDate())}function ue(e){return void 0===e&&(e=new Date),e.getFullYear()+"-"+ie(e.getMonth()+1)+"-"+ie(e.getDate())+"T"+ie(e.getHours())+":"+ie(e.getMinutes())+":"+ie(e.getSeconds())}function le(e){return'<div class="alert alert-danger">'+e+"</div>"}function ce(e,t){return e.getAttribute(t)}function fe(e,t,n){return e.setAttribute(t,n)}function he(e,t){return e.removeAttribute(t)}function pe(e,t,n){var r={className:"class",htmlFor:"for"},o=document.createElement(e);if(n)for(var s in n)fe(o,r[s]||s,n[s]);return t&&t.insertAfter&&t.insertAfter.parentNode.insertBefore(o,t.insertAfter.nextSibling),o}function de(){var e=ce(this,"data-invalid");if(e){var t="checkbox"===this.type||"radio"===this.type||ve(this,"form-check"),n=t?function(e,t){for(;null!=e&&!ve(e,t);)e=e.parentElement;return e}(this,"form-check"):null;t?me(n||this.parentElement,"is-invalid form-control"):me(this,"is-invalid");var r=this.nextElementSibling,o=!r||ce(r,"for")!==this.id&&"SMALL"!==r.tagName?this:t?n||r.parentElement:r;(null!=o&&o.nextElementSibling&&ve(o.nextElementSibling,"invalid-feedback")?o.nextElementSibling:pe("div",{insertAfter:o},{className:"invalid-feedback"})).innerHTML=e}}function ve(e,t){return!!e&&(e.classList?e.classList.contains(t):-1<(" "+e.className+" ").replace(/[\n\t\r]/g," ").indexOf(" "+t+" "))}function me(e,t){var n;return e?e.classList?(n=e.classList).add.apply(n,t.split(" ")):ve(e,t)?null:e.className=(e.className+" "+t).trim():null}function ge(e,t){return e?e.classList?e.classList.remove(t):ve(e,t)?e.className=e.className.replace(/(\s|^)someclass(\s|$)/," "):null:null}function ye(l,e,c){void 0===e&&(e=document),e.addEventListener(c,function(e){var t="data-"+c,n=e.target,r=ce(n,t);if(!r){var o=n.closest("["+t+"]");o&&(r=ce(o,t),n=o)}if(r){var s=r.indexOf(":");if(0<=s){var i=r.substring(0,s),a=r.substring(s+1);(u=l[i])&&u.apply(n,a.split(","))}else{var u;(u=l[r])&&u.apply(n,[].slice.call(arguments))}}})}function be(e){ge(e,"has-errors");var t=e.querySelectorAll.bind(e);t(".error-summary").forEach(function(e){e.innerHTML="",e.style.display="none"}),t("[data-validation-summary]").forEach(function(e){e.innerHTML=""}),t(".error").forEach(function(e){return ge(e,"error")}),t(".form-check.is-invalid [data-invalid]").forEach(function(e){he(e,"data-invalid")}),t(".form-check.is-invalid").forEach(function(e){return ge(e,"form-control")}),t(".is-invalid").forEach(function(e){ge(e,"is-invalid"),he(e,"data-invalid")}),t(".is-valid").forEach(function(e){return ge(e,"is-valid")})}function Ce(e){return e?ne(e)?e:e.split(",").map(function(e){return e.trim()}):[]}function Se(e){void 0===e&&(e={});var t,n=this,r=ce(n,"enctype")||U.UrlEncoded;if(r==U.MultiPart&&void 0===window.FormData)throw new Error("FormData Type is needed to send '"+U.MultiPart+"' Content Types");try{t=we(n,r)}catch(e){throw new Error(""+(e.message||e))}var o=new Headers;o.set("Accept",U.Json),o.set("Content-Type",r);var s={method:ce(n,"method")||"POST",credentials:"include",mode:"cors",headers:o,body:t};return e.requestFilter&&e.requestFilter(s),fetch(new Request(e.url||ce(n,"action"),s)).catch(function(e){throw new Error("Network is unreachable ("+(e.message||e)+")")}).then(function(t){return e.responseFilter&&e.responseFilter(t),t.ok?(function(e,t){var n=t.headers.get("X-Location");n&&(location.href=n);var r=t.headers.get("X-Trigger");if(r){var o=r.indexOf(":"),s=0<=o?r.substring(0,o):r,i=0<=o?r.substring(o+1):null;Te(e,s,i?[i]:[])}}(n,t),function(e){var t=e.headers.get("content-type"),n=t&&-1!==t.indexOf(U.Json);if(n)return e.json();var r=e.headers.get("content-length");return"0"===r||null==r&&!n?null:e.json()}(t)):t.json().catch(function(e){throw new Error("The request failed with "+(t.statusText||t.status))}).then(function(e){throw Object.assign.apply(Object,__spreadArray([new a],q(e)))})})}function Ee(o,s){void 0===s&&(s={});var i="bootstrap-v4"===s.type;be(o);try{if(s.validate&&!1===s.validate.call(o))return!1}catch(e){return!1}var a=o.querySelectorAll.bind(o);me(o,"loading");var e=null==s.onSubmitDisable?"[type=submit]":s.onSubmitDisable,t=null!=e&&""!=e;function n(e,t){if(void 0===t&&(t=null),t)!function(e,r,t){var n={overrideMessages:!1,messages:{NotEmpty:"Required",NotNull:"Required",Email:"Invalid email",AlreadyExists:"Already exists"},errorFilter:function(e,t,n){return this.overrideMessages?this.messages[t]||e||z(t):e||z(t)}};if(be(e),r){r=q(r),me(e,"has-errors");var i=t&&"bootstrap-v4"===t.type,o=__assign(__assign({},n),t);t.messages&&(o.overrideMessages=!0);var s=o.errorFilter.bind(o),a=r.errors,u=e.querySelectorAll.bind(e);if(a&&a.length){var l={},c={};u("input,textarea,select,button").forEach(function(e){var t=e,n=t.previousElementSibling,r=t.nextElementSibling,o=("radio"===t.type||"checkbox"===t.type?null:t.id)||ce(t,"name");if(o){var s=o.toLowerCase();l[s]=t,i||(ve(n,"help-inline")||ve(n,"help-block")?c[s]=n:(ve(r,"help-inline")||ve(r,"help-block"))&&(c[s]=r))}}),u(".help-inline[data-for],.help-block[data-for]").forEach(function(e){var t=ce(e,"data-for").toLowerCase();c[t]=e});for(var f=0,h=a;f<h.length;f++){var p=h[f],d=(p.fieldName||"").toLowerCase(),v=l[d];if(v)if(i){var m=ce(v,"type");"radio"===m||"checkbox"===m||me(v,"is-invalid"),fe(v,"data-invalid",s(p.message,p.errorCode,"field"))}else me(v,"error"),me(v.parentElement,"has-error");var g=c[d];g&&(me(g,"error"),g.innerHTML=s(p.message,p.errorCode,"field"),g.style.display="block")}u("[data-validation-summary]").forEach(function(e){var t=ce(e,"data-validation-summary").split(","),n=oe.call(r,t);n&&(e.innerHTML=le(n))})}else{var y=s(r.message||z(r.errorCode),r.errorCode,"summary");i?u("[data-validation-summary]").forEach(function(e){return e.innerHTML="<"===y[0]?y:le(y)}):u(".error-summary").forEach(function(e){e.innerHTML=y,e.style.display="block"})}}}(o,t.ResponseStatus||t.responseStatus,__assign({},s));else if(e){me(o,"has-errors");var n=a(".error-summary")[0];if(n&&(n.innerHTML=e),i){var r=a("[data-validation-summary]")[0];r&&(r.innerHTML=le(e))}}s.error&&s.error.call(o,t),i&&a("[data-invalid]").forEach(function(e){return de.call(e)})}return t&&a(e).forEach(function(e){fe(e,"disabled","disabled")}),(s.submit||Se).call(o,s).then(function(e){return s.success&&s.success.call(o,e),!1}).catch(function(e){e.responseStatus?n(null,e):n(""+(e.message||e),null)}).finally(function(){ge(o,"loading"),t&&a(e).forEach(function(e){he(e,"disabled")}),s.complete&&s.complete.call(o)})}function we(e,t){return void 0===t&&(t=null),t===U.MultiPart?new FormData(e):t==U.Json?JSON.stringify(ke(e)):Ne(e)}function Oe(e,t,n){for(var r,o=e,s=o.elements.length,i=0;i<s;i++)if((r=o.elements[i]).name&&!r.disabled&&"file"!=r.type&&"reset"!=r.type&&"submit"!=r.type&&"button"!=r.type)if("select-multiple"==r.type)for(var a=o.elements[i].options.length-1;0<=a;a--)r.options[a].selected&&n(t,r.name,r.options[a].value);else("checkbox"!=r.type&&"radio"!=r.type||r.checked)&&n(t,r.name,r.value);return t}function ke(e){return Oe(e,{},function(e,t,n){return e[t]=n})}function Ne(e){return Oe(e,[],function(e,t,n){return"string"==typeof n?e.push(encodeURIComponent(t)+"="+encodeURIComponent(n)):null}).join("&").replace(/%20/g,"+")}function Te(e,t,n){if(void 0===n&&(n=null),document.createEvent){(r=document.createEvent("click"==t||t.startsWith("mouse")?"MouseEvents":"HTMLEvents")).initEvent(t,!0,!0),r.data=n,e.dispatchEvent(r)}else{var r=document.createEventObject();e.fireEvent("on"+t,r)}}function Ie(e,t){if(t){var n;for(var r in t){var o=t[r];null==o&&(o="");var s=e.elements.namedItem(r)||e.elements.namedItem((n=r)?n[0]===n[0].toUpperCase()?F(n):n[0]===n[0].toLowerCase()?B(n):n:n),i=s;if(s)switch(i.type||s[0].type){case"radio":case"checkbox":for(var a=s.length,u=0;u<a;u++)s[u].checked=-1<o.indexOf(s[u].value);break;case"select-multiple":var l=ne(o)?o:[o],c=s;for(u=0;u<c.options.length;u++)c.options[u].selected=-1<l.indexOf(c.options[u].value);break;case"select":case"select-one":i.value=o.toString()||o;break;case"date":var f=se(o);f&&(i.value=f.toISOString().split("T")[0]);break;default:i.value=o}}}}function Le(e,t){for(var n=e.length;0<n&&e[n-1]===t;)--n;return n<e.length?e.substring(0,n):e}function xe(e){for(var t=0,n=["primary","secondary","success","info","warning","danger","light","dark"];t<n.length;t++){var r=n[t];if(e[r])return"btn-"+r;if(e["outline-"+r])return"btn-outline-"+r}return null}function Re(e){for(var t=0,n=["xs","sm","md","lg"];t<n.length;t++){var r=n[t];if(e[r])return"btn-"+r}return null}t.JsonServiceClient=M,t.isFormData=j,t.toCamelCase=F,t.toPascalCase=B,t.sanitize=q,t.nameOf=_,t.css=H,t.splitOnFirst=G,t.splitOnLast=function(e,t){if(!e)return[e];var n=e.lastIndexOf(t);return 0<=n?[e.substring(0,n),e.substring(n+1)]:[e]},t.leftPart=function(e,t){if(null==e)return null;var n=e.indexOf(t);return-1==n?e:e.substring(0,n)},t.rightPart=function(e,t){if(null==e)return null;var n=e.indexOf(t);return-1==n?e:e.substring(n+t.length)},t.lastLeftPart=function(e,t){if(null==e)return null;var n=e.lastIndexOf(t);return-1==n?e:e.substring(0,n)},t.lastRightPart=function(e,t){if(null==e)return null;var n=e.lastIndexOf(t);return-1==n?e:e.substring(n+t.length)},t.chop=function(e,t){return void 0===t&&(t=1),t=Math.abs(t),e?t<e.length?e.substring(0,e.length-t):"":e},t.onlyProps=function(t,e){var n={};return e.forEach(function(e){return n[e]=t[e]}),n},t.humanize=function(e){return!e||0<=e.indexOf(" ")?e:z(e)},t.queryString=function(e){if(!e||-1===e.indexOf("?"))return{};for(var t=G(e,"?")[1].split("&"),n={},r=0;r<t.length;++r){var o=t[r].split("=");n[o[0]]=1<o.length?decodeURIComponent(o[1].replace(/\+/g," ")):null}return n},t.combinePaths=J,t.createPath=W,t.createUrl=function(e,t){return V(W(e,t),t)},t.appendQueryString=V,t.bytesToBase64=K,M.toBase64=function(e){return Y(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(new Number("0x"+t).valueOf())}))},t.stripQuotes=$,t.tryDecode=Z,t.parseCookie=ee,t.normalizeKey=te,t.normalize=function e(t,n){if(ne(t)){if(!n)return t;for(var r=[],o=0;o<t.length;o++)r[o]=e(t[o],n);return r}if("object"!=typeof t)return t;var s={};for(var i in t)s[te(i)]=n?e(t[i],n):t[i];return s},t.getField=function(e,t){return null==e||null==t?null:e[t]||e[Object.keys(e).filter(function(e){return te(e)===te(t)})[0]||""]},t.parseResponseStatus=function(t,n){void 0===n&&(n=null);try{var e=JSON.parse(t);return q(e.ResponseStatus||e.responseStatus)}catch(e){return{message:n||e.message||e,__error:{error:e,json:t}}}},t.toFormData=function(e){if("undefined"!=typeof window){var t=new FormData;for(var n in e)t.append(n,e[n]);return t}},t.toObject=function(e){var t=this,n={};if(!e)return n;if("object"!=typeof e)throw new Error("keys must be an Array of object keys");return Array.prototype.slice.call(e).forEach(function(e){t[e]&&(n[e]=t[e])}),n},t.errorResponseSummary=re,t.errorResponseExcept=oe,t.errorResponse=function(t){if(null==t)return re.call(this);var e=this.responseStatus||this.ResponseStatus;if(null!=e){var n=e.ErrorCode?q(e):e;if(null!=n.errors&&0!=n.errors.length){var r=n.errors.find(function(e){return(e.fieldName||"").toLowerCase()==t.toLowerCase()});return r?r.message||r.errorCode:void 0}}},t.toDate=se,t.toDateFmt=function(e){return ae(se(e))},t.padInt=ie,t.dateFmt=ae,t.dateFmtHM=function(e){return void 0===e&&(e=new Date),e.getFullYear()+"/"+ie(e.getMonth()+1)+"/"+ie(e.getDate())+" "+ie(e.getHours())+":"+ie(e.getMinutes())},t.timeFmt12=function(e){return void 0===e&&(e=new Date),ie((e.getHours()+24)%12||12)+":"+ie(e.getMinutes())+":"+ie(e.getSeconds())+" "+(12<e.getHours()?"PM":"AM")},t.toLocalISOString=ue,t.createElement=pe,t.bootstrap=function(e){for(var t=(e||document).querySelectorAll("[data-invalid]"),n=0;n<t.length;n++)de.call(t[n])},"undefined"!=typeof window&&void 0!==window.Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})),t.bindHandlers=function(t,n,e){void 0===n&&(n=document),void 0===e&&(e=null),e&&e.events?e.events.forEach(function(e){return ye(t,n,e)}):["click","dblclick","change","focus","blur","focusin","focusout","select","keydown","keypress","keyup","hover","toggle","input"].forEach(function(e){n.querySelector("[data-"+e+"]")&&ye(t,n,e)})},t.bootstrapForm=function(t,n){t&&(n.model&&Ie(t,n.model),t.onsubmit=function(e){return e.preventDefault(),n.type="bootstrap-v4",Ee(t,n)})},(D=U||(U={})).MultiPart="multipart/form-data",D.UrlEncoded="application/x-www-form-urlencoded",D.Json="application/json",t.toVarNames=Ce,t.formSubmit=Se,t.ajaxSubmit=Ee,t.serializeForm=we,t.serializeToObject=ke,t.serializeToUrlEncoded=Ne,t.serializeToFormData=function(e){return Oe(e,new FormData,function(e,t,n){return e.append(t,n)})},t.triggerEvent=Te,t.populateForm=Ie,t.trimEnd=Le,t.safeVarName=function(e){return e.replace(/[\W]+/g,"")},t.pick=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&0<=t.indexOf(r)&&(n[r]=e[r]);return n},t.omit=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)<0&&(n[r]=e[r]);return n},t.activeClassNav=function(e,t){return null!=e.href&&(e.exact||t.length<=1?Le(t,"/").toLowerCase()===Le(e.href,"/").toLowerCase():Le(t,"/").toLowerCase().startsWith(Le(e.href,"/").toLowerCase()))?"active":null},t.activeClass=function(e,t,n){return null!=e&&(n||t.length<=1?Le(t,"/").toLowerCase()===Le(e,"/").toLowerCase():Le(t,"/").toLowerCase().startsWith(Le(e,"/").toLowerCase()))?"active":null},t.BootstrapColors=["primary","secondary","success","info","warning","danger","light","dark"],t.btnColorClass=xe,t.BootstrapSizes=["xs","sm","md","lg"],t.btnSizeClass=Re,t.btnClasses=function(e){var t=[],n=xe(e);n&&t.push(n);var r=Re(e);return r&&t.push(r),e.block&&t.push("btn-block"),t};var Ue=(De.create=function(){return new ze},De.forNav=function(e){return e||De.create()},De.overrideDefaults=function(e,t){return null==e?t:((e=Object.assign({},e)).navClass===De.navClass&&null!=t.navClass&&(e.navClass=t.navClass),e.navItemClass===De.navItemClass&&null!=t.navItemClass&&(e.navItemClass=t.navItemClass),e.navLinkClass===De.navLinkClass&&null!=t.navLinkClass&&(e.navLinkClass=t.navLinkClass),e.childNavItemClass===De.childNavItemClass&&null!=t.childNavItemClass&&(e.childNavItemClass=t.childNavItemClass),e.childNavLinkClass===De.childNavLinkClass&&null!=t.childNavLinkClass&&(e.childNavLinkClass=t.childNavLinkClass),e.childNavMenuClass===De.childNavMenuClass&&null!=t.childNavMenuClass&&(e.childNavMenuClass=t.childNavMenuClass),e.childNavMenuItemClass===De.childNavMenuItemClass&&null!=t.childNavMenuItemClass&&(e.childNavMenuItemClass=t.childNavMenuItemClass),e)},De.showNav=function(e,t){return null==t||0===t.length?null==e.show:!(null!=e.show&&t.indexOf(e.show)<0||null!=e.hide&&0<=t.indexOf(e.hide))},De.navClass="nav",De.navItemClass="nav-item",De.navLinkClass="nav-link",De.childNavItemClass="nav-item dropdown",De.childNavLinkClass="nav-link dropdown-toggle",De.childNavMenuClass="dropdown-menu",De.childNavMenuItemClass="dropdown-item",De);function De(){}t.NavDefaults=Ue;var Me=(Ae.forNavLink=function(e){return e||Ue.create()},Ae);function Ae(){}t.NavLinkDefaults=Me;var je=(Pe.create=function(){return new ze({navClass:Pe.navClass})},Pe.forNavbar=function(e){return Ue.overrideDefaults(e,Pe.create())},Pe.navClass="navbar-nav",Pe);function Pe(){}t.NavbarDefaults=je;var Fe=(Be.create=function(){return new ze({navClass:Be.navClass,navItemClass:Be.navItemClass})},Be.forNavButtonGroup=function(e){return Ue.overrideDefaults(e,Be.create())},Be.navClass="btn-group",Be.navItemClass="btn btn-primary",Be);function Be(){}t.NavButtonGroupDefaults=Fe;var qe=(_e.create=function(){return new ze({navItemClass:_e.navItemClass})},_e.forLinkButton=function(e){return Ue.overrideDefaults(e||null,_e.create())},_e.navItemClass="btn",_e);function _e(){}t.LinkButtonDefaults=qe;var He=(Ge.fromSession=function(e){var t=[];return null!=e&&(t.push("auth"),e.roles&&t.push.apply(t,e.roles.map(function(e){return"role:"+e})),e.permissions&&t.push.apply(t,e.permissions.map(function(e){return"perm:"+e}))),t},Ge);function Ge(){}t.UserAttributes=He;var ze=(Je.fromSession=function(e,t){return(t=t||new Je).attributes=He.fromSession(e),t},Je);function Je(e){this.attributes=[],this.navClass=Ue.navClass,this.navItemClass=Ue.navItemClass,this.navLinkClass=Ue.navLinkClass,this.childNavItemClass=Ue.childNavItemClass,this.childNavLinkClass=Ue.childNavLinkClass,this.childNavMenuClass=Ue.childNavMenuClass,this.childNavMenuItemClass=Ue.childNavMenuItemClass,Object.assign(this,e)}function We(e,t){var n,r=0|e,o=r,s=60<=o?o%60:o,i=60<=(o/=60)?o%60:o,a=24<=(o/=60)?o%24:o,u=o/24,l=s+(e-r),c=t?"P":"";t?(0<(0|u)&&(c+=(0|u)+"D"),(0==u||0<a+i+s+l)&&(c+="T",0<(0|a)&&(c+=(0|a)+"H"),0<(0|i)&&(c+=(0|i)+"M"),0<l?c+=(n=Le(Le(n=l.toFixed(7),"0"),"."))+"S":2==c.length&&(c+="0S"))):(0<(0|u)&&(c+=(0|u)+":"),c+=ie(0|a)+":"+ie(0|i)+":",0<l?(n=Le(Le(n=l.toFixed(7),"0"),"."),c+=10<=l?""+n:"0"+n):c+="00");return c}function Ve(e){return null==e?null:"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;"):""+e}function Xe(e,t){for(var n=0,r=t.length;n<r;n++){var o=e.indexOf(t[n]);if(0<=o)return o}return-1}function Ke(e){return null==e||""===e}t.NavOptions=ze,t.classNames=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s){var i=typeof s;if("string"==i||"number"==i)r.push(s);else if(Array.isArray(s)&&s.length){var a=e.apply(null,s);a&&r.push(a)}else if("object"==i)for(var u=0,l=Object.keys(s);u<l.length;u++){var c=l[u];s[c]&&r.push(c)}}}return r.join(" ")},t.fromXsdDuration=function(e){var t=0,n=0,r=0,o=0,s=0,i=G(e.substring(1),"T"),a=2==i.length,u=G(i[0],"D");if(2==u.length&&(t=parseInt(u[0],10)||0),a){var l=G(i[1],"H");2==l.length&&(n=parseInt(l[0],10)||0);var c=G(l[l.length-1],"M");2==c.length&&(r=parseInt(c[0],10)||0);var f=G(c[c.length-1],"S");2==f.length&&(s=parseFloat(f[0])),s-=o=0|s}return 24*t*60*60+60*n*60+60*r+o+s},t.toXsdDuration=function(e){return We(e,!0)},t.toTimeSpanFmt=function(e){return We(e,!1)},t.flatMap=function(n,e){return e.reduce(function(e,t){return e.concat(n(t))},[])},t.uniq=function(e){return Array.from(new Set(e)).sort(function(e,t){return t<e?1:-1})},t.enc=Ve,t.htmlAttrs=function(t){var n=[];return Object.keys(t).forEach(function(e){0<n.length&&n.push(" "),n.push(e),n.push('="'),n.push(Ve(t[e])),n.push('"')}),n.join("")},t.indexOfAny=Xe,t.isNullOrEmpty=Ke,t.fromDateTime=function(e){return se(e)},t.toDateTime=function(e){return"/Date("+e.getTime()+")/"},t.fromTimeSpan=function(e){return e},t.toTimeSpan=function(e){return e},t.fromGuid=function(e){return e},t.toGuid=function(e){return e},t.fromByteArray=function(e){for(var t=function(e){return"function"==typeof atob?atob(e):Buffer.from(e,"base64").toString()}(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r},t.toByteArray=function(e){return Y(String.fromCharCode.apply(null,e))},t.toBase64String=function(e){return M.toBase64(e)};var Qe=(Ye.prototype.set=function(e){this.buffer_=""+e},Ye.prototype.append=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(this.buffer_+=String(e),null!=t)for(var o=1;o<arguments.length;o++)this.buffer_+=arguments[o];return this},Ye.prototype.clear=function(){this.buffer_=""},Ye.prototype.getLength=function(){return this.buffer_.length},Ye.prototype.toString=function(){return this.buffer_},Ye);function Ye(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer_="",null!=e&&this.append.apply(this,arguments)}t.StringBuffer=Qe;var $e=(Ze.encodeString=function(e){return null==e?null:""===e?'""':(e.indexOf('"')&&(e=e.replace(/"/g,'""')),0<=Xe(e,Ze.ESCAPE_CHARS)?'"'+e+'"':e)},Ze.encodeArray=function(e){for(var t,n=new Qe,r=0,o=e.length;r<o;r++)Ke(t=e[r])||"function"==typeof t||(0<n.getLength()&&n.append(","),n.append(Ze.stringify(t)));return"["+n.toString()+"]"},Ze.encodeObject=function(e){var t,n=new Qe;for(var r in e)t=e[r],e.hasOwnProperty(r)&&!Ke(t)&&"function"!=typeof t&&(0<n.getLength()&&n.append(","),n.append(Ze.encodeString(r)),n.append(":"),n.append(Ze.stringify(t)));return"{"+n.toString()+"}"},Ze.stringify=function(e){if(null==e)return null;var t=typeof e;if("function"==t||"symbol"==t)return null;if("object"==t){var n=e.constructor.toString().toLowerCase();return 0<=n.indexOf("string")?Ze.encodeString(e):0<=n.indexOf("boolean")?e?"true":"false":0<=n.indexOf("number")?e:0<=n.indexOf("date")?Ze.encodeString(ue(e)):0<=n.indexOf("array")?Ze.encodeArray(e):Ze.encodeObject(e)}switch(t){case"string":return Ze.encodeString(e);case"boolean":return e?"true":"false";case"number":default:return e}},Ze.ESCAPE_CHARS=['"',":",",","{","}","[","]","\r","\n"],Ze);function Ze(){}function et(e){var t=[];return e.forEach(function(e){return Object.keys(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}),t}function tt(e,t,n){return void 0===n&&(n=" "),t<0?"":t+1-e.length<=0?e:n+e+n.repeat(t+1-e.length)}function nt(e,t,n){if(void 0===n&&(n=" "),t<0)return"";e||(e="");var r=e.length,o=Math.floor(t/2-r/2),s=Math.abs(r%2-t%2);return n.repeat(o+1)+e+n.repeat(o+1+s)}function rt(e,t,n){return void 0===n&&(n=" "),t<0?"":t+1-e.length<=0?e:n.repeat(t+1-e.length)+e+n}function ot(e,t,n){void 0===n&&(n=" ");var r=""+e;return r.length<=t?"number"==typeof e?rt(r,t,n):tt(r,t,n):r}t.JSV=$e,t.uniqueKeys=et,t.alignLeft=tt,t.alignCenter=nt,t.alignRight=rt,t.alignAuto=ot;var st=(it.vars=function(e){var t=i();if("function"==typeof t){var n=process.env.INSPECT_VARS;if(n&&e){var r=t("fs"),o=n.replace(/\\/g,"/");if(0<=o.indexOf("/")){var s=t("path").dirname(o);r.existsSync(s)||r.mkdirSync(s)}r.writeFileSync(o,JSON.stringify(e))}}},it.dump=function(e){return JSON.stringify(e,null,4).replace(/"/g,"")},it.printDump=function(e){console.log(it.dump(e))},it.dumpTable=function(e){var t=e,r=et(t),s={};r.forEach(function(r){var o=r.length;t.forEach(function(e){var t=e[r];if(null!=t){var n=(""+t).length;o<n&&(o=n)}}),s[r]=o});var n=Object.keys(s).length,o=Object.keys(s).map(function(e){return s[e]}).reduce(function(e,t){return e+t},0)+2*n+(n+1),i=[];i.push("+"+"-".repeat(o-2)+"+");var a="|";return r.forEach(function(e){return a+=nt(e,s[e])+"|"}),i.push(a),i.push("|"+"-".repeat(o-2)+"|"),t.forEach(function(t){var n="|";r.forEach(function(e){return n+=ot(t[e],s[e])+"|"}),i.push(n)}),i.push("+"+"-".repeat(o-2)+"+"),i.join("\n")},it.printDumpTable=function(e){console.log(it.dumpTable(e))},it);function it(){}t.Inspect=st});